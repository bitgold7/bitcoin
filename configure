#!/usr/bin/env sh
# Simple configure wrapper for CMake with Bulletproofs toggle.
# Bulletproof support requires libsecp256k1_zkp >= 0.6.1.
set -e
BULLETPROOFS=ON
ARGS=""
for arg in "$@"; do
  case "$arg" in
    --without-bulletproofs)
      BULLETPROOFS=OFF
      ;;
    --with-bulletproofs)
      BULLETPROOFS=ON
      ;;
    *)
      ARGS="$ARGS $arg"
      ;;
  esac
done
cmake -DENABLE_BULLETPROOFS=$BULLETPROOFS $ARGS
